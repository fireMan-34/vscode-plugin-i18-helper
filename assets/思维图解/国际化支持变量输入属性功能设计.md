# 如何使国际化功能支持输入变量提示、匹配、以及输出待填变量 key 的形式。

- 目前的国际化变量嵌入考虑是基于对象的形式，至于更复杂的映射关系不做考虑。
我所作的就是进一步提高该插件的普适性，而非特殊性。如果有更特殊的映射关系，最好是由有缘人进行设计，因为他们有比我更明白所需要的场景。
- 至于国际化代码的执行则是函数调用的形式，至于是多参数，还是可选项的型尽量保持兼容。目前的实现也是比较偏于硬编码的形式，一些场景可能无法实现。

## 目前许多国际化功能均是代码模板生成生成的正则判断

## 使用代码模板的功能有
- 生成代码相关的命令
- 智能代码选择
- 国际化高亮、国际化跳转 等功能
- 模板转正则

## 变量功能支持
1. 国际化值变量识别功能，能识别是否是普通值还是携带变量的
2. 国际化模板加入变量映射对象的识别，匹配对象键值。
3. 生成式代码，基于支持 1 判断，基于支持 5 判断，输出时 添加包含键的对象。
4. 智能代码基于支持 1 判断，如果有，基于支持 5 判断， 输出对象提示
5. 如果有， 判断是 新增属性 还是 参数 进行支持
6. 是否需要在模板中加入代码变量的相关匹配呢。
    这种问题其实也是我将模板转换成动态正则产生的问题，我把一个作为输出的可能性，逆向成输入的可能性。

## 一些小想法
其实我为什么如此纠结这些模板功能的转换，是因为我目前都是基于正则进行工作的，它相比于真正的代码有了个区别，那就是语法元素组成。如果是语法元素组成，我可以用一种结构表达集合去描述这种不确定性，而不是用一个正则去囊括所有可能的代码情况。所以我打算用 Ts ast 来尝试一下是否能够修改。

或许设计一套简单的表达语法去囊括这些可能性。

## 关于快读 anfu 的 i18n 的插件随感

1. anfu 设计这一块确实偏更加完整化。
2. anfu 的代码建议基于 字符串 输入场景比起我的函数调用场景相对更简洁且实际。
3. anfu 的代码设计扩展性更高，而我之前只是局限于单一的代码模板工作。


